from bokeh.plotting import figure, output_file, show

data = ["0100030700000000" "0100000000000000", "0100030700000000", "0100000000000000", "0100030900000000", "0100000000000000", "0100030800000000", "0100000000000000", "0100030a00000000", "0100000000000000", "0100040c00000000", "0100000000000000", "0100020c00000000", "0100000000000000", "0100030c00000000", "0100000000000000", "0100040d00000000", "0100000000000000", "0100030c00000000", "0100000000000000", "0100030c00000000", "0100000000000000", "0100030b00000000", "0100000000000000", "0100040b00000000", "0100000000000000", "0100030b00000000", "0100000000000000", "0100030a00000000", "0100000000000000", "0100020900000000", "0100000000000000", "0100020900000000", "0100000000000000", "0100020900000000", "0100000000000000", "0100000600000000", "0100000000000000", "0100020700000000", "0100000000000000", "0100040c00000000", "0100000000000000", "0100040c00000000", "0100000000000000", "0100050f00000000", "0100000000000000", "0100052000000000", "0100052400000000", "0100000000000000", "0100042000000000", "0100000000000000", "0100050e00000000", "0100000000000000", "0100030c00000000", "0100000000000000", "0100030b00000000", "0100000000000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "01000000ff000000", "0100000001000000", "0100fb0000000000", "0100000000000000", "0100fbff00000000", "0100000000000000", "0100fcff00000000", "0100000000000000", "0100fcff00000000", "0100000000000000", "0100fdff00000000", "0100000000000000", "0100fd0000000000", "0100000000000000", "0100feff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "0100feff00000000", "0100000000000000", "0100feff00000000", "0100000000000000", "0100fdfe00000000", "0100000000000000", "0100fb0000000000", "0100000000000000", "0100fbfe00000000", "0100000000000000", "0100fbfe00000000", "0100000000000000", "0100fbfe00000000", "0100fcfe00000000", "0100fd0000000000", "0100000000000000", "0100fe0000000000", "0100000000000000", "0100feff00000000", "0100000000000000", "0100fefe00000000", "0100fdfe00000000", "0100000000000000", "0100fcfe00000000", "0100000000000000", "0100fdfe00000000", "0100000000000000", "0100fdfe00000000", "0100000000000000", "0100fe0000000000", "0100000000000000", "0100fd0000000000", "0100000000000000", "0100fd0000000000", "0100fe0000000000", "0100000000000000", "0100fe0000000000", "0100000000000000", "0100feff00000000", "0100000000000000", "0100fafe00000000", "0100000000000000", "0100fb0000000000", "0100000000000000", "0100fc0000000000", "0100000000000000", "0100fbfe00000000", "0100000000000000", "0100fc0000000000", "0100000000000000", "0100fc0000000000", "0100000000000000", "0100fc0000000000", "0100000000000000", "0100fd0000000000", "0100000000000000", "0100feff00000000", "0100000000000000", "0100fe0000000000", "0100000000000000", "0100feff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "0100ffff00000000", "0100000000000000", "0100ffff00000000", "0100000000000000", "0100ffff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "0100ffff00000000", "0100000000000000", "0100ffff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "010000ff00000000", "0100000000000000", "0101000000000000", "010100ff00000000", "0101000000000000", "010100ff00000000", "0101000000000000", "0101010000000000", "0101000000000000", "0101020200000000", "0101000000000000", "0101030000000000", "0101000000000000", "0101030200000000", "0101000000000000", "0101040200000000", "0101000000000000", "0101050200000000", "0101000000000000", "0101050000000000", "0101000000000000", "0101050200000000", "0101000000000000", "0101050000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101020000000000", "0101030000000000", "0101000000000000", "0101030000000000", "0101000000000000", "0101030000000000", "0101000000000000", "0101030000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101040000000000", "0101000000000000", "0101050000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101000100000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101020100000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101010000000000", "0101000000000000", "0101010000000000", "0101000000000000", "0101010000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101020000000000", "0101000000000000", "0101010000000000"]

xs = []
ys = []

xf = 0
yf = 0

clicksx = []
clicksy = []

for i in data:


        

        x = int(i[4:6], 16)
        if x >= 1<<7: x -= 1<<8

        y = int(i[6:8], 16)
        if y >= 1<<7: y -= 1<<8


        xf += x
        yf += y

        xs.append(xf)
        ys.append(yf)


        clicked = int(i[0:2], 16)
        if(clicked == 0):
                clicksx.append(xf)
                clicksy.append(yf)


# output to static HTML file
output_file("line.html")

p = figure(plot_width=600, plot_height=600)

# add a circle renderer with a size, color, and alpha
p.circle(xs, ys, size=1, color="red", alpha=0.5)
p.circle(clicksx, clicksy, size=4, color="black")

p.y_range.start = -5000
p.y_range.end = 5000

p.x_range.start = -5000
p.x_range.end = 5000

show(p)